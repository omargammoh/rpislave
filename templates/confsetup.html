{% extends "base_website.html" %}

{% block content %}

<div>
    <h1>No configuration installed on this device. There are two ways to configure this device:</h1>
    <hr>
    <h2>1) SSH into this device and create the configuration file '/home/pi/rpislave/conf.json' then reboot</h2>
    <hr>
    <h2>2) Copy-paste the json configuration file text in the box below, and click on submitt configuration</h2>
    <div class="controls" style="width: 100%">
        <textarea id="confjson" onclick="submitt_conf(this)" style="background-color:white; width:100%; height:200px" placeholder="configuration json file"></textarea>
    </div>
    <button type="button" onclick="">submitt configuration</button>
    <hr>
</div>

{% endblock %}

{% block sidebar %}
{% endblock %}


{% block scripts %}
<script>

function submitt_conf(ths){
    _ajax(btn=ths, url='/set_conf/', data={"str_json":confjson.value}
        , success=function(data, textStatus, jqXHR){

            }
        , error=undefined
    )
    $("#div_table").css('opacity', Math.max(1 - loops_since_last_update/5, 0.1) )

}


</script>
{% endblock %}
